// Generated by CoffeeScript 1.3.3
(function() {
  var debug, find_denom, lookup, root, to_western_rhythm, _;

  debug = false;

  root = typeof exports !== "undefined" && exports !== null ? exports : this;

  if (typeof require !== "undefined" && require !== null) {
    _ = require("underscore")._;
  }

  lookup = {
    "1/1": [
      {
        note: "1/4"
      }
    ],
    "1/2": [
      {
        note: "1/8"
      }
    ],
    "1/3": [
      {
        note: "1/8"
      }
    ],
    "2/3": [
      {
        note: "1/4"
      }
    ],
    "1/4": [
      {
        note: "1/16"
      }
    ],
    "2/4": [
      {
        note: "1/8"
      }
    ],
    "3/4": [
      {
        note: "1/8",
        dots: 1
      }
    ],
    "4/4": [
      {
        note: "1/4"
      }
    ],
    "1/8": [
      {
        note: "1/32"
      }
    ],
    "2/8": [
      {
        note: "1/16"
      }
    ],
    "3/8": [
      {
        note: "1/16",
        dots: 1
      }
    ],
    "4/8": [
      {
        note: "1/8"
      }
    ],
    "5/8": [
      {
        note: "1/8"
      }, {
        note: "1/32"
      }
    ],
    "6/8": [
      {
        note: "1/8",
        dots: 1
      }
    ],
    "7/8": [
      {
        note: "1/8",
        dots: 2
      }
    ],
    "8/8": [
      {
        note: "1/4"
      }
    ],
    "1/16": [
      {
        note: "1/64"
      }
    ],
    "2/16": [
      {
        note: "1/32"
      }
    ],
    "3/16": [
      {
        note: "1/32",
        dots: 1
      }
    ],
    "4/16": [
      {
        note: "1/8"
      }
    ],
    "5/16": [
      {
        note: "1/16"
      }, {
        note: "1/64"
      }
    ],
    "6/16": [
      {
        note: "1/8",
        dots: 1
      }
    ],
    "7/16": [
      {
        note: "1/16",
        dots: 1
      }
    ],
    "8/16": [
      {
        note: "1/8"
      }
    ],
    "9/16": [
      {
        note: "1/8"
      }, {
        note: "1/64"
      }
    ],
    "10/16": [
      {
        note: "1/8"
      }, {
        note: "1/32"
      }
    ],
    "11/16": [
      {
        note: "1/8"
      }, {
        note: "1/32",
        dots: 1
      }
    ],
    "12/16": [
      {
        note: "1/8",
        dots: 1
      }
    ],
    "13/16": [
      {
        note: "1/8"
      }, {
        note: "1/16"
      }, {
        note: "1/64"
      }
    ],
    "14/16": [
      {
        note: "1/8",
        dots: 2
      }
    ],
    "15/16": [
      {
        note: "1/8",
        dots: 3
      }
    ],
    "1/32": [
      {
        note: "128"
      }
    ],
    "2/32": [
      {
        note: "1/64"
      }
    ],
    "3/32": [
      {
        note: "1/64",
        dots: 1
      }
    ],
    "4/32": [
      {
        note: "1/16"
      }
    ],
    "5/32": [
      {
        note: "1/16"
      }, {
        note: "1/128"
      }
    ],
    "6/32": [
      {
        note: "1/32",
        dots: 1
      }
    ],
    "2/1": [
      {
        note: "half"
      }
    ],
    "3/1": [
      {
        note: "half",
        dots: 1
      }
    ],
    "4/1": [
      {
        note: "1/1"
      }
    ]
  };

  find_denom = function(val, denoms) {
    var denom, found, found_val, _i, _len;
    found = false;
    found_val = 1;
    for (_i = 0, _len = denoms.length; _i < _len; _i++) {
      denom = denoms[_i];
      if (!found) {
        found = val >= denom;
        if (found) {
          found_val = denom;
        }
      }
    }
    return found_val;
  };

  to_western_rhythm = function(numerator, denominator) {
    var denom, x;
    if (debug) {
      console.log("entering to_western_rhythm,numerator/denominator is  " + numerator + "/" + denominator);
    }
    denom = find_denom(denominator, [32, 16, 8, 4, 2, 1]);
    x = lookup["" + numerator + "/" + denom] || [
      {
        note: "1/1"
      }
    ];
    if (debug) {
      console.log("to_western_rhythm- returning " + x);
    }
    return x;
  };

  root.to_western_rhythm = to_western_rhythm;

  root.find_denom = find_denom;

}).call(this);
